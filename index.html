<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carpenter Photo Segregator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app-container">
        <h1>Carpenter Photo Segregator</h1>

        <div id="auth-section">
            <button id="auth-button">Sign in with Google</button>
        </div>

        <div id="app-section" class="hidden">
            <!-- Sign out button moved here or handled differently if needed -->
            <div style="text-align: center;"> <button id="signout-button">Sign Out</button> </div>
            <hr>

            <h2>Select or Create a Folder</h2>
            <div id="folder-selection">
                <label for="folders">Choose a folder:</label>
                <input type="search" id="folder-search" placeholder="Search folders...">
                <div id="folders-tree">
                    <p>--Loading folders--</p>
                </div>
                <button id="refresh-folders-button">Refresh Folders</button>
            </div>
            <div id="folder-creation">
                <input type="text" id="new-folder-name" placeholder="Or create a new folder name">
                <button id="create-folder-button">Create Folder</button>
            </div>

            <hr>

            <!-- Section for taking/uploading photo - shown after folder selection -->
            <div id="capture-upload-section" class="hidden">
                <h2>Take Photo</h2>
                <p>Uploading to: <strong id="selected-folder-name-display">(No folder selected)</strong></p>

                <!-- Hidden file inputs -->
                <input type="file" id="camera-input" accept="image/*" capture="environment" class="hidden"> <!-- Input for camera -->
                <input type="file" id="gallery-input" accept="image/*" class="hidden" multiple> <!-- Input for gallery (multiple) -->

                <!-- Visible elements -->
                <div id="capture-controls">
                    <button id="take-photo-btn">Take Photo (Camera)</button>
                    <button id="select-gallery-btn">Select from Gallery</button>
                </div>

                <div id="preview-controls" class="hidden">
                    <p><span id="file-count-display">0</span> file(s) selected.</p>
                    <div id="thumbnail-container" alt="Selected photo previews"></div> <!-- Container for thumbnails -->
                    <div> <!-- Button container -->
                        <button id="upload-button">Upload Photos</button>
                        <button id="clear-selection-button">Clear Selection</button>
                    </div>
                </div>
            </div>

        </div>

        <!-- Toast Notification Container -->
        <div id="toast-container"></div>
    </div>

    <script src="script.js" defer></script>

    <!-- Google API Client Library -->
    <script src="https://apis.google.com/js/api.js" onload="gapiLoaded()" defer></script>
    <!-- Google Sign-In (GSI) Client Library -->
    <script src="https://accounts.google.com/gsi/client" onload="gisLoaded()" defer></script>

</body>
</html>
